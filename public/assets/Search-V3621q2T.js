import{r as n,j as s,o as x}from"./index-nT-sMeGS.js";const L=()=>{const[a,b]=n.useState(""),[g,r]=n.useState([]),[o,m]=n.useState(!1),[i,d]=n.useState(!1),[c,w]=n.useState(!1),[h,p]=n.useState(null),[u,f]=n.useState(null),j=(e,t)=>{b(e);const l=C(e,t);r(l)},k=()=>{m(!o),d(!1)},N=e=>{f(l=>(console.log("prevFilter:",l),console.log("letter:",e),l===e?null:e));const t=x.filter(l=>l.name.toLowerCase().startsWith(e.toLowerCase()));r(t)},A=e=>{if(p(t=>t===e?null:e),e&&a){const t=C(a,e);r(t)}else r([])},S=()=>{w(!c),r(c?[]:x),m(!1),d(!1)},C=(e,t)=>x.filter(l=>{const v=l.name.toLowerCase(),F=e.toLowerCase();return v.includes(F)&&(!t||l.filters.classFilter===t)}),y=()=>{b(""),r([]),p(null),f(null)};return s.jsxs("div",{className:"container flex flex-col items-center mx-auto p-4",children:[s.jsx("input",{type:"text",placeholder:"Search for medicines...",value:a,onChange:e=>j(e.target.value,h),className:"w-full sm:w-[50%] p-2 rounded-full border border-[#00a65100] dark:border-black-border bg-white-bg dark:bg-black-input px-4 py-2 font-normal shadow-md dark:shadow-black-shadow outline-none focus:border-green-pri focus:outline-none focus:ring-2 focus:ring-green-pri dark:focus:ring-2 dark:focus:ring-green-pri"}),s.jsxs("div",{className:"filter-btns-cont flex items-center p-1 mb-4 mt-4 bg-green-pri dark:text-white-bg rounded-lg ",children:[s.jsx("button",{onClick:k,className:`${o?"bg-white-bg text-green-pri":"text-white-bg "} rounded-full px-4 py-2 hover:transition-all duration-200 `,children:"ATC"}),s.jsx("button",{onClick:()=>d(!i),className:`${i?"bg-white-bg text-green-pri":"text-white-bg "} rounded-full px-4 py-2 hover:transition-all duration-200 `,children:"A-to-Z"}),s.jsx("button",{onClick:S,className:`${c?"bg-white-bg text-green-pri":"text-white-bg "} rounded-full px-4 py-2 hover:transition-all duration-200 `,children:"OTC"})]}),o&&s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex flex-col justify-center items-center",children:[s.jsx("h3",{className:"text-lg text-center w-fit text-[#000] dark:text-[#fff] mb-2 rounded px-2",children:"Filter by ATC Classes"}),s.jsx("div",{className:"flex justify-center flex-wrap space-x-2",children:["ClassA","ClassB","ClassC","ClassD","ClassN","ClassG","ClassL"].map(e=>s.jsx("button",{onClick:()=>A(e),className:"bg-white-input dark:bg-black-input p-2 rounded-md focus:bg-green-pri bg-white-contents text-white-bg",children:e},e))})]})}),i&&s.jsx("div",{className:"mt-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-green-pri mb-2",children:"Filter by Alphabet"}),s.jsx("div",{className:"flex justify-center flex-wrap space-x-2",children:Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ").map(e=>s.jsx("button",{onClick:()=>{N(e),console.log("selectedAlphabetFilter:",u),console.log("letter:",e)},className:`border border-green-pri dark:bg-transparent mb-2 p-[3px] px-3 rounded-full focus:bg-green-pri dark:focus:bg-green-pri ${u===e?"bg-green-pri text-white-bg":"bg-black-input text-green-pri"}`,children:e},e))})]})}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-xl mb-2",children:"Search Results"}),g.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map(e=>s.jsxs("div",{className:"bg-white-bg dark:bg-black-contents p-4 rounded-md shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.name}),s.jsxs("p",{children:["ATC Class: ",e.filters.classFilter,", ATC Code:"," ",e.filters.atcCode.join(", ")]})]},e.name))}):s.jsx("p",{children:"No results found."})]}),(a||h||u)&&s.jsx("button",{onClick:y,className:"mt-4 bg-red-500 text-white p-2 rounded",children:"Clear Filters"})]})};export{L as default};
