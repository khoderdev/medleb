import{r as s,v as c,j as e,A as r}from"./index-CZxsDede.js";const v=()=>{const[a,m,u]=s.useState({guid:c(),code:"",levelName:"",levelNameAr:"",atcRelatedLabel:"",enabled:!0,guid:"",atcCode:"",levelName:"",levelNameAr:"",levelNumber:"",substanceName:"",atcIngredientName:"",atcIngredientNameAr:"",interactionIngredientName:"",enabled:!0});console.log("formData in AtcForm:",a);const[g,d]=s.useState([]),[i,o]=s.useState("");s.useEffect(()=>{(async()=>{try{const l=await r.get("/api/atc/v1.0");d(l.data)}catch(l){console.error("Error fetching ATC data:",l),o("Failed to fetch ATC data")}})()},[]);const t=n=>{const{name:l,value:N}=n.target;m({...a,[l]:N})},x=async n=>{n.preventDefault();try{const l=c();await r.post("/api/atc/v1.0",{guid:l,code:a.code,levelName:a.levelName,levelNameAr:a.levelNameAr,atcRelatedLabel:a.atcRelatedLabel,enabled:a.enabled}),await r.post("/api/atccodes/v1.0",{guid:c(),code:a.atcCode,atcGuid:l,levelName:a.levelName,levelNameAr:a.levelNameAr,levelNumber:a.levelNumber,substanceName:a.substanceName,atcIngredientName:a.atcIngredientName,atcIngredientNameAr:a.atcIngredientNameAr,interactionIngredientName:a.interactionIngredientName,enabled:a.enabled}),m({code:"",atcCode:"",levelName:"",levelNameAr:"",levelNumber:0,atcRelatedLabel:"",enabled:!0,substanceName:"",atcIngredientName:"",atcIngredientNameAr:"",interactionIngredientName:""}),console.log("Form submitted successfully")}catch(l){console.error("Error submitting form data:",l),o("Failed to submit form data")}};return e.jsxs("div",{className:"flex flex-col max-w-lg mx-auto",children:[e.jsxs("form",{className:"grid grid-cols-2 gap-10 p-4 py-14 md:p-10",onSubmit:x,children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("h3",{className:"text-green-pri",children:"ATC"}),e.jsxs("label",{className:"flex flex-col",children:["ATC:",e.jsx("input",{type:"text",name:"code",value:a.code,onChange:t,required:!0,autoFocus:!0})]}),e.jsxs("label",{className:"flex flex-col",children:["Level Name:",e.jsx("input",{type:"text",name:"levelName",value:a.levelName,onChange:t})]}),e.jsxs("label",{className:"flex flex-col",children:["Level Name (Arabic):",e.jsx("input",{type:"text",name:"levelNameAr",value:a.levelNameAr,onChange:t})]}),e.jsxs("label",{className:"flex flex-col",children:["ATC Related Label:",e.jsx("input",{type:"text",name:"atcRelatedLabel",value:a.atcRelatedLabel,onChange:t})]})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("h3",{className:"text-green-pri",children:"ATC Codes"}),e.jsxs("label",{className:"flex flex-col",children:["ATC Code:",e.jsx("input",{type:"text",name:"atcCode",value:a.atcCode,onChange:t,required:!0})]}),e.jsxs("label",{className:"flex flex-col",children:["Substance Name:",e.jsx("input",{type:"text",name:"substanceName",value:a.substanceName,onChange:t})]}),e.jsxs("label",{className:"flex flex-col",children:["ATC Ingredient Name:",e.jsx("input",{type:"text",name:"atcIngredientName",value:a.atcIngredientName,onChange:t})]}),e.jsxs("label",{className:"flex flex-col",children:["ATC Ingredient Name (Arabic):",e.jsx("input",{type:"text",name:"atcIngredientNameAr",value:a.atcIngredientNameAr,onChange:t})]}),e.jsxs("label",{className:"flex flex-col",children:["Interaction Ingredient Name:",e.jsx("input",{type:"text",name:"interactionIngredientName",value:a.interactionIngredientName,onChange:t})]}),e.jsxs("label",{className:"flex flex-col",children:["Level Number:",e.jsx("input",{type:"text",name:"levelNumber",value:a.levelNumber,onChange:t})]})]}),e.jsx("button",{className:"med-btn-pri col-span-full w-24",type:"submit",children:"Submit"})]}),i&&e.jsx("div",{style:{color:"red"},children:i})]})};export{v as default};
